{"version":3,"file":"index.js","sources":["../src/index.ts"],"sourcesContent":["import { createRequire } from \"module\";\r\nimport { resolve } from \"path\";\r\nimport type { RsbuildPluginAPI } from \"@rsbuild/core\";\r\n\r\nfunction createAppRequire(appRoot: string) {\r\n  return createRequire(resolve(appRoot, \"package.json\"));\r\n}\r\n\r\n/** Return Rsbuild plugins to prepend before extenzo-react (so React is available before plugins init). */\r\nexport function getReactRsbuildPlugins(appRoot: string): unknown[] {\r\n  const appRequire = createAppRequire(appRoot);\r\n  try {\r\n    const { pluginReact } = appRequire(\"@rsbuild/plugin-react\");\r\n    return [pluginReact()];\r\n  } catch {\r\n    return [];\r\n  }\r\n}\r\n\r\n/**\r\n * Rsbuild plugin for React + JSX.\r\n * Usage: import react from \"@extenzo/plugin-react\"; plugins: [react()]\r\n */\r\nexport function extenzoReactPlugin() {\r\n  return {\r\n    name: \"extenzo-react\",\r\n    setup(_api: RsbuildPluginAPI) {\r\n      // React plugin is injected by CLI via getReactRsbuildPlugins before createRsbuild.\r\n    },\r\n  };\r\n}\r\n\r\nexport default extenzoReactPlugin;\r\n"],"names":["createAppRequire","appRoot","createRequire","resolve","getReactRsbuildPlugins","appRequire","pluginReact","extenzoReactPlugin","_api"],"mappings":";;AAIA,SAASA,iBAAiBC,OAAe;IACvC,OAAOC,cAAcC,QAAQF,SAAS;AACxC;AAGO,SAASG,uBAAuBH,OAAe;IACpD,MAAMI,aAAaL,iBAAiBC;IACpC,IAAI;QACF,MAAM,EAAEK,WAAW,EAAE,GAAGD,WAAW;QACnC,OAAO;YAACC;SAAc;IACxB,EAAE,OAAM;QACN,OAAO,EAAE;IACX;AACF;AAMO,SAASC;IACd,OAAO;QACL,MAAM;QACN,OAAMC,IAAsB,GAE5B;IACF;AACF;AAEA,YAAeD"}